<launch>
  <node pkg="joy" exec="joy_node" name="joy_raw_node">
    <remap from="joy" to="joy_raw" />
    <param from="$(find-pkg-share r5sr_teleop)/config/r5sr_teleop.yaml" />
  </node>
  <node pkg="r5sr_teleop" exec="remap_joy">
    <remap from="joy" to="joy_raw" />
    <remap from="out" to="joy" />
  </node>
  <node pkg="teleop_twist_joy" exec="teleop_node">
    <param from="$(find-pkg-share r5sr_teleop)/config/r5sr_teleop.yaml" />
  </node>

  <node pkg="r5sr_crawler_control" exec="r5sr_crawler_control">
    <param from="$(find-pkg-share r5sr_crawler_control)/config/r5sr_crawler_control.yaml" />

    <remap from="/command_crawler_left" to="/epos/motor5/move_with_velocity" />
    <remap from="/command_crawler_right" to="/epos/motor4/move_with_velocity" />

    <remap from="/command_flipper_left_front" to="/epos/motor2/move_with_velocity" />
    <remap from="/command_flipper_right_front" to="/epos/motor3/move_with_velocity" />
    <remap from="/command_flipper_left_back" to="/epos/motor6/move_with_velocity" />
    <remap from="/command_flipper_right_back" to="/epos/motor7/move_with_velocity" />
  </node>

  <node pkg="rqt_gui" exec="rqt_gui" name="rqt_gui" output="screen"
    args="--perspective-file $(find-pkg-share r5sr_teleop)/rqt/r5sr_cam.perspective" />

  <node pkg="r5sr_teleop" exec="flir_ax8_rtsp">
    <param from="$(find-pkg-share r5sr_teleop)/config/r5sr_teleop.yaml" />
  </node>

  <include file="$(find-pkg-share r5sr_moveit_teleop)/launch/servo.launch.py" />

  <include file="$(find-pkg-share audio_play)/launch/play.launch.xml">
    <arg name="ns" value="audio_robot_to_ope" />
  </include>
  <include file="$(find-pkg-share audio_capture)/launch/capture.launch.xml">
    <arg name="ns" value="audio_ope_to_robot" />
  </include>
</launch>